import org.junit.Test;

import java.io.FileReader;
import java.io.IOException;
import java.io.StringReader;

import controller.AlgorithmCommand;
import controller.CallLinearRegression;

import static org.junit.Assert.assertEquals;

/**
 * This class represents all the methods to test the command controller class of Linear Regression
 * algorithm.
 */
public class CallLinearRegressionTest {

  /**
   * Tests the condition when insufficient training points are provided.
   *
   * @throws IOException if the controller calling view class cannot plot.
   */
  @Test
  public void testLinearMinimumData() throws IOException {
    StringReader st1 = new StringReader("10.30  1838\n");
    String[] data = {"linear"};
    try {
      AlgorithmCommand cmd = new CallLinearRegression(st1, data);
      cmd.goCmd();
    } catch (IllegalArgumentException e) {
      assertEquals("Insufficient training data!", e.getMessage());
    }
  }

  /**
   * Tests the condition when no/empty training points are provided.
   *
   * @throws IOException if the controller calling view class cannot plot.
   */
  @Test
  public void testKMeansKEmptyData() throws IOException {
    FileReader inp1 = new FileReader("data/empty.txt");
    String[] data = {"linear"};
    try {
      AlgorithmCommand cmd = new CallLinearRegression(inp1, data);
      cmd.goCmd();
    } catch (IllegalArgumentException e) {
      assertEquals("Empty training data input!", e.getMessage());
    }
  }

  /**
   * Tests the correct, ordered supply of formatted training points to the model class of Linear
   * Regression.
   *
   * @throws IOException if the controller calling view class cannot plot.
   */
  @Test
  public void testLinearData() throws IOException {
    FileReader inp1 = new FileReader("data/linedata-3.txt");
    String[] data = {"linear"};
    AlgorithmCommand cmd = new CallLinearRegression(inp1, data);
    cmd.goCmd();
    assertEquals("(-400.000000, 72.560000)(-399.390000, 104.150000)(-397.070000, 66.860000)(-393"
                    + ".690000, 79.870000)(-389.710000, 129.270000)(-387.340000, 102.840000)(-383"
                    + ".520000,"
                    + " 123.150000)(-383.430000, 105.900000)(-381.930000, 94.370000)(-381.370000,"
                    + " 122"
                    + ".050000)(-378.330000, 134.190000)(-377.190000, 96.150000)(-373.680000, 90"
                    + ".570000)"
                    + "(-370.530000, 121.560000)(-368.530000, 109.490000)(-365.290000, 91.800000)"
                    + "(-364"
                    + ".460000, 70.490000)(-362.390000, 95.830000)(-359.080000, 92.890000)(-356"
                    + ".210000, "
                    + "108.130000)(-352.390000, 99.080000)(-348.470000, 129.830000)(-344.640000, "
                    + "100"
                    + ".080000)(-342.190000, 126.890000)(-342.030000, 65.330000)(-338.100000, 93"
                    + ".470000)"
                    + "(-337.240000, 84.540000)(-335.460000, 74.520000)(-333.720000, 113.150000)"
                    + "(-331"
                    + ".710000, 111.430000)(-328.300000, 75.240000)(-324.610000, 126.950000)(-321"
                    + ".300000,"
                    + " 88.810000)(-320.530000, 92.280000)(-319.360000, 87.350000)(-318.780000, 88"
                    + ".630000)(-318.290000, 99.490000)(-316.070000, 118.870000)(-314.450000, 124"
                    + ".410000)"
                    + "(-313.620000, 111.500000)(-309.990000, 95.580000)(-308.850000, 89.030000)"
                    + "(-306"
                    + ".730000, 118.050000)(-303.010000, 66.580000)(-301.810000, 116.210000)(-300"
                    + ".010000,"
                    + " 93.190000)(-298.860000, 88.740000)(-294.880000, 78.750000)(-291.660000, 125"
                    + ".570000)(-289.780000, 93.300000)(-287.860000, 128.830000)(-287.540000, 132"
                    + ".600000)"
                    + "(-287.190000, 134.630000)(-286.590000, 74.510000)(-284.580000, 106.150000)"
                    + "(-281"
                    + ".090000, 104.860000)(-277.960000, 130.800000)(-277.390000, 108.990000)(-276"
                    + ".700000, 124.470000)(-272.930000, 126.180000)(-269.760000, 125.010000)(-267"
                    + ".300000, 68.380000)(-263.820000, 134.210000)(-260.110000, 72.850000)(-257"
                    + ".610000, "
                    + "83.800000)(-257.370000, 69.190000)(-256.010000, 114.550000)(-253.960000, 86"
                    + ".310000)(-250.900000, 91.110000)(-249.190000, 92.800000)(-246.610000, 95"
                    + ".460000)"
                    + "(-246.250000, 115.900000)(-245.620000, 122.090000)(-245.290000, 109"
                    + ".180000)(-245"
                    + ".210000, 75.710000)(-244.450000, 67.720000)(-243.590000, 88.670000)(-242"
                    + ".590000, "
                    + "91.070000)(-239.740000, 120.420000)(-236.000000, 130.200000)(-235.950000, "
                    + "134"
                    + ".340000)(-232.170000, 92.790000)(-232.160000, 99.190000)(-231.260000, 94"
                    + ".040000)"
                    + "(-229.140000, 122.740000)(-226.910000, 95.310000)(-223.110000, 83.330000)"
                    + "(-221"
                    + ".650000, 72.270000)(-221.150000, 82.650000)(-218.800000, 106.880000)(-216"
                    + ".100000, "
                    + "128.350000)(-214.870000, 73.030000)(-212.510000, 98.820000)(-211.760000, 115"
                    + ".720000)(-211.230000, 75.220000)(-208.150000, 95.790000)(-206.240000, 116"
                    + ".330000)"
                    + "(-204.100000, 69.160000)(-201.320000, 91.330000)(-197.850000, 128.740000)"
                    + "(-195"
                    + ".620000, 72.940000)(-194.920000, 70.670000)(-194.810000, 99.920000)(-194"
                    + ".560000, "
                    + "72.870000)(-192.280000, 92.000000)(-188.940000, 94.210000)(-188.730000, 113"
                    + ".860000)(-186.640000, 125.680000)(-184.020000, 65.570000)(-182.400000, 72"
                    + ".390000)"
                    + "(-182.250000, 77.450000)(-181.500000, 74.870000)(-180.980000, 75.080000)"
                    + "(-180"
                    + ".850000, 112.710000)(-176.910000, 77.200000)(-176.040000, 100.030000)(-174"
                    + ".240000,"
                    + " 104.410000)(-172.020000, 123.550000)(-168.030000, 120.190000)(-165"
                    + ".960000, 97"
                    + ".710000)(-163.650000, 107.610000)(-160.800000, 109.030000)(-159.870000, 96"
                    + ".130000)"
                    + "(-157.680000, 92.780000)(-157.300000, 111.070000)(-153.920000, 99.500000)"
                    + "(-151"
                    + ".630000, 66.520000)(-148.880000, 116.610000)(-146.030000, 117.510000)(-145"
                    + ".750000,"
                    + " 101.860000)(-144.880000, 132.120000)(-141.980000, 119.860000)(-141"
                    + ".580000, 86"
                    + ".520000)(-141.290000, 121.220000)(-138.230000, 127.190000)(-136.750000, 85"
                    + ".410000)"
                    + "(-136.210000, 74.070000)(-135.970000, 113.320000)(-133.920000, 106.590000)"
                    + "(-130"
                    + ".860000, 104.330000)(-130.710000, 70.570000)(-128.780000, 94.130000)(-128"
                    + ".660000, "
                    + "89.280000)(-126.830000, 125.300000)(-123.130000, 75.030000)(-120.820000, 91"
                    + ".120000)(-119.870000, 129.310000)(-118.680000, 85.490000)(-115.470000, 120"
                    + ".050000)"
                    + "(-111.930000, 127.520000)(-109.800000, 122.770000)(-109.090000, 98.140000)"
                    + "(-108"
                    + ".940000, 119.780000)(-108.180000, 99.080000)(-105.130000, 106.870000)(-102"
                    + ".660000,"
                    + " 110.040000)(-99.510000, 130.960000)(-96.950000, 119.780000)(-93.050000, 74"
                    + ".650000)(-90.530000, 69.130000)(-86.710000, 94.070000)(-82.980000, 110"
                    + ".810000)(-81"
                    + ".650000, 96.300000)(-80.300000, 120.180000)(-77.830000, 99.500000)(-74"
                    + ".330000, 84"
                    + ".390000)(-72.010000, 85.810000)(-70.980000, 84.100000)(-70.710000, 71"
                    + ".090000)(-68"
                    + ".160000, 71.710000)(-64.180000, 108.830000)(-63.040000, 83.690000)(-59"
                    + ".760000, 86"
                    + ".830000)(-57.540000, 131.590000)(-54.920000, 115.420000)(-51.980000, 66"
                    + ".270000)"
                    + "(-50.810000, 123.870000)(-49.520000, 124.130000)(-47.710000, 98.710000)(-47"
                    + ".620000, 121.140000)(-43.620000, 132.890000)(-40.270000, 70.880000)(-39"
                    + ".140000, 87"
                    + ".970000)(-35.990000, 77.410000)(-34.260000, 104.010000)(-33.670000, 120"
                    + ".870000)"
                    + "(-32.810000, 102.210000)(-30.490000, 104.880000)(-30.420000, 83.950000)(-29"
                    + ".590000, 69.140000)(-27.050000, 67.890000)(-25.340000, 68.630000)(-22"
                    + ".220000, 121"
                    + ".940000)(-20.690000, 71.820000)(-18.020000, 71.670000)(-14.630000, 95"
                    + ".200000)(-12"
                    + ".100000, 69.060000)(-8.330000, 89.650000)(-6.830000, 76.890000)(-6.250000,"
                    + " 65"
                    + ".590000)(-4.510000, 83.340000)(-0.660000, 88.930000)(1.260000, 69.740000)(1"
                    + ".770000, 108.400000)(2.410000, 120.400000)(3.880000, 106.710000)(6.670000,"
                    + " 78"
                    + ".760000)(8.560000, 123.140000)(12.180000, 67.050000)(12.470000, 74.330000)"
                    + "(15"
                    + ".950000, 88.660000)(17.590000, 91.860000)(19.890000, 92.450000)(21.500000,"
                    + " 81"
                    + ".050000)(23.400000, 96.960000)(25.510000, 84.560000)(27.080000, 109"
                    + ".360000)(28"
                    + ".270000, 96.810000)(29.280000, 89.730000)(32.330000, 71.100000)(34.970000,"
                    + " 125"
                    + ".070000)(38.700000, 81.040000)(42.680000, 79.670000)(46.480000, 90.290000)"
                    + "(47"
                    + ".940000, 129.570000)(51.170000, 91.420000)(54.100000, 87.860000)(55"
                    + ".910000, 83"
                    + ".870000)(58.290000, 75.420000)(60.030000, 94.540000)(63.470000, 107"
                    + ".560000)(66"
                    + ".570000, 121.030000)(69.890000, 102.020000)(70.330000, 107.400000)(74"
                    + ".220000, 106"
                    + ".220000)(75.000000, 76.160000)(77.260000, 123.730000)(79.160000, 126"
                    + ".590000)(80"
                    + ".900000, 69.140000)(83.850000, 80.460000)(87.330000, 89.400000)(90.690000,"
                    + " 89"
                    + ".310000)(94.370000, 106.030000)(94.880000, 75.270000)(98.150000, 67"
                    + ".990000)(99"
                    + ".900000, 127.770000)(101.810000, 98.730000)(103.770000, 102.440000)(107"
                    + ".340000, "
                    + "102.550000)(107.770000, 66.410000)(111.350000, 66.490000)(115.010000, 114"
                    + ".880000)"
                    + "(118.110000, 72.500000)(118.460000, 68.320000)(119.780000, 132.060000)(120"
                    + ".750000,"
                    + " 67.580000)(121.420000, 101.430000)(124.970000, 85.300000)(127.160000, 109"
                    + ".810000)"
                    + "(129.400000, 87.010000)(131.640000, 105.210000)(133.400000, 123.050000)(134"
                    + ".340000, 84.450000)(135.800000, 114.470000)(135.920000, 102.690000)(139"
                    + ".860000, "
                    + "130.790000)(140.550000, 76.290000)(142.030000, 116.110000)(144.250000, 129"
                    + ".010000)"
                    + "(145.920000, 91.920000)(147.080000, 126.670000)(148.520000, 80.290000)(150"
                    + ".070000,"
                    + " 78.420000)(150.130000, 69.960000)(153.670000, 124.650000)(156.140000, 90"
                    + ".010000)"
                    + "(157.950000, 101.880000)(161.160000, 121.400000)(163.110000, 113.370000)(166"
                    + ".340000, 75.950000)(170.010000, 101.360000)(173.840000, 74.610000)(174"
                    + ".560000, 82"
                    + ".360000)(176.000000, 133.000000)(177.040000, 100.860000)(177.080000, 101"
                    + ".600000)"
                    + "(178.580000, 89.100000)(181.410000, 130.720000)(183.610000, 71.440000)(186"
                    + ".650000,"
                    + " 86.740000)(187.930000, 101.130000)(191.710000, 95.750000)(195.000000, 114"
                    + ".930000)"
                    + "(195.580000, 84.060000)(198.930000, 87.050000)(201.990000, 131.350000)(204"
                    + ".550000,"
                    + " 108.760000)(206.490000, 112.470000)(206.950000, 132.570000)(209.760000, 127"
                    + ".360000)(211.050000, 101.710000)(214.500000, 75.370000)(216.440000, 95"
                    + ".270000)(216"
                    + ".810000, 90.660000)(218.440000, 107.790000)(220.500000, 119.070000)(222"
                    + ".730000, 78"
                    + ".840000)(223.810000, 124.310000)(224.920000, 133.120000)(227.090000, 81"
                    + ".470000)"
                    + "(227.680000, 85.640000)(231.030000, 80.660000)(231.480000, 98.120000)(232"
                    + ".680000, "
                    + "130.330000)(235.940000, 93.530000)(236.530000, 121.450000)(238.560000, 104"
                    + ".790000)"
                    + "(239.530000, 87.750000)(239.550000, 70.390000)(240.520000, 75.190000)(242"
                    + ".370000, "
                    + "116.400000)(243.000000, 135.060000)(243.360000, 87.660000)(246.980000, 119"
                    + ".970000)"
                    + "(249.380000, 94.410000)(253.280000, 79.820000)(256.490000, 81.210000)(258"
                    + ".980000, "
                    + "86.920000)(262.020000, 114.820000)(264.600000, 123.980000)(267.980000, 85"
                    + ".700000)"
                    + "(270.150000, 87.360000)(271.660000, 73.960000)(274.730000, 70.100000)(277"
                    + ".540000, "
                    + "106.020000)(280.620000, 74.020000)(281.780000, 80.800000)(285.520000, 79"
                    + ".640000)"
                    + "(289.100000, 66.770000)(291.380000, 94.330000)(294.710000, 130.740000)(294"
                    + ".790000,"
                    + " 95.060000)(295.740000, 88.370000)(296.960000, 71.140000)(298.720000, 123"
                    + ".120000)"
                    + "(301.910000, 94.850000)(305.270000, 95.960000)(306.180000, 133.790000)(306"
                    + ".410000,"
                    + " 112.280000)(309.200000, 78.310000)(312.700000, 94.430000)(314.330000, 90"
                    + ".060000)"
                    + "(314.650000, 69.450000)(316.980000, 94.110000)(318.570000, 80.810000)(320"
                    + ".190000, "
                    + "76.780000)(322.860000, 130.250000)(325.980000, 84.360000)(328.810000, 122"
                    + ".580000)"
                    + "(330.900000, 104.700000)(333.430000, 80.220000)(336.640000, 103.440000)(336"
                    + ".910000, 97.770000)(339.760000, 80.390000)(340.600000, 68.010000)(342"
                    + ".730000, 88"
                    + ".130000)(345.690000, 80.670000)(347.550000, 85.690000)(349.330000, 73"
                    + ".770000)(352"
                    + ".200000, 123.380000)(354.900000, 133.930000)(355.950000, 82.670000)(356"
                    + ".150000, 87"
                    + ".210000)(356.500000, 135.220000)(357.720000, 105.840000)(359.540000, 119"
                    + ".390000)"
                    + "(362.920000, 98.030000)(364.920000, 130.220000)(366.030000, 118.740000)(368"
                    + ".370000, 99.580000)(369.440000, 68.180000)(372.670000, 87.910000)(373"
                    + ".010000, 72"
                    + ".020000)(375.300000, 86.460000)(377.190000, 73.450000)(378.990000, 100"
                    + ".550000)(382"
                    + ".680000, 71.000000)(383.690000, 98.850000)(383.810000, 119.190000)(387"
                    + ".610000, 111"
                    + ".900000)(388.570000, 69.980000)(389.230000, 124.820000)(390.480000, 132"
                    + ".320000)"
                    + "(393.500000, 93.980000)(396.640000, 115.760000)(399.290000, 115.910000)",
            cmd.toString());
  }
}